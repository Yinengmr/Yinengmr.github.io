<html>

<head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>
    重学前端 | Danny的博客
</title>
<link rel="shortcut icon" href="https://yinengmr.github.io//favicon.ico?v=1586855579261">
<!-- <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous"> -->
<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://yinengmr.github.io//styles/main.css">
<!-- js -->
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<script src="https://yinengmr.github.io//media/js/jquery.sticky-sidebar.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


        
            
                <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
                <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
                

                    
                            
</head>

<body>
    <div class="main">
        <div class="header">
    <div class="nav">
        <div class="logo">
            <a href="https://yinengmr.github.io/">
                <img class="avatar" src="https://yinengmr.github.io//images/avatar.png?v=1586855579261" alt="">
            </a>
            <div class="site-title">
                <h1>
                    Danny的博客
                </h1>
            </div>
        </div>
        <span class="menu-btn fa fa-align-justify"></span>
        <div class="menu-container">
            <ul>
                
                    
                            <li>
                                <a href="/" class="menu">
                                    首页
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/tag/irNcL5BBo/" class="menu">
                                    JavaScript
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/archives" class="menu">
                                    归档
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/tags" class="menu">
                                    标签
                                </a>
                            </li>
                            
                                
                    
                            <li>
                                <a href="/post/about" class="menu">
                                    关于
                                </a>
                            </li>
                            
                                
            </ul>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        $(".menu-btn").click(function() {
            $(".menu-container").slideToggle();
        });
        $(window).resize(function() {

            if (window.matchMedia('(min-width: 960px)').matches) {
                $(".menu-container").css('display', 'block')
            } else {
                $(".menu-container").css('display', 'none')
            }

        });
    });
</script>

            <div id="main-content" class="post-detail main-container">
                <!-- left -->
                <div id="content" class="main-container-left">
                    <article class="post i-card">
                        <h2 class="post-title">
                            重学前端
                        </h2>
                        <div class="post-info">
                            <time class="post-time">2019-10-28</time>
                            
                        </div>
                        
                                <div class="post-content">
                                    <p>这两年一直零散的学习，前端后端不定时的切换，有利也有弊，前端方面一直在做pc端相关的，却忽略了移动端，事实上人们更多的在使用移动设备，因此打算从移动端角度重学前端</p>
<h2 id="-more-1移动端的touch事件"><!-- more --><br>
1.移动端的<code>touch</code>事件</h2>
<pre><code class="language-js">/*单击操作的特点
* 1.单击只有一根手指
* 2.判断手指开始触摸和手指松开的时间差异不能大于指定的值  300/150
* 3.保证没有滑动操作，如果有抖动必须保证抖动的距离在指定范围内*/
var div=document.querySelector(&quot;div&quot;);

var startTime,startX,startY;
div.addEventListener(&quot;touchstart&quot;,function(e){
    /*判断是否只有一根手指进行操作*/
    if(e.targetTouches.length &gt; 1){ //说明不止一个手指
        return;
    }
    /*记录手指开始触摸的时间*/
    startTime=Date.now();
    /*记录当前手指的坐标*/
    startX= e.targetTouches[0].clientX;
    startY= e.targetTouches[0].clientY;
    /*来做一些与事件相关的初始化操作*/
})

/*添加手指滑动事件，当手指在屏幕上滑动时触发:move事件是持续触发*/
div.addEventListener(&quot;touchmove&quot;,function(){
    console.log(&quot;touchmove&quot;);
});

/*touchend：当手指松开时候触发，意味着当前元素上已经没有手指对象了,
所以无法通过targetTouches来获取手指对象*/
div.addEventListener(&quot;touchend&quot;,function(e){
    /*判断是否只有一根手指进行操作*/
    if(e.changedTouches.length &gt; 1){ //说明不止一个手指
        return;
    }
    /*判断时间差异  150ms*/
    console.log(Date.now()-startTime);
    if(Date.now()-startTime &gt; 150){ //长按操作
        return;
    }
    /*判断松开手指时的坐标与触摸开始时的坐标的距离差异*/
    var endX=e.changedTouches[0].clientX;
    var endY=e.changedTouches[0].clientY;
    /*这里暂且将距离差异定为6*/
    if(Math.abs(endX-startX) &lt; 6 &amp;&amp; Math.abs(endY-startY) &lt;6){
        console.log(&quot;这就是移动端的单击事件--tap事件&quot;);
        /*执行tap事件响应后的处理操作*/
    }
})

/*添加触摸意外中断事件*/
div.addEventListener(&quot;touchcancel&quot;,function(){

});
</code></pre>

                                </div>
                    </article>
                    <!--  -->
                    
                        <div class="next-post">
                            <div class="next">下一篇</div>
                            <a href="https://yinengmr.github.io/post/2019-10-10-001/">
                                <h3 class="post-title">
                                    [搬运][译] 作为程序员你不能成功的 10 个迹象
                                </h3>
                            </a>
                        </div>
                        
                            <div id="disqus_thread"></div>
                            <div id="gitalk-container"></div>
                </div>
                <!-- middle -->
                <div class="main-container-middle"></div>
                <!-- right -->
                <div id="sidebar" class="main-container-right">
                    
                        <!-- toc -->
                        
    <div class="toc-card i-card ">
        <div class="toc-title i-card-title">目录</div>
        <div class="toc-content">
            <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#-more-1%E7%A7%BB%E5%8A%A8%E7%AB%AF%E7%9A%84touch%E4%BA%8B%E4%BB%B6"><!-- more --><br>
1.移动端的<code>touch</code>事件</a></li>
</ul>
</li>
</ul>

        </div>
        <script>
            function locateCatelogList() {
                /*获取文章目录集合,可通过:header过滤器*/
                var alis = $('.post-content :header');
                /*获取侧边栏目录列表集合**/
                var sidebar_alis = $('.markdownIt-TOC a');
                /*获取滚动条到顶部的距离*/
                var scroll_height = $(window).scrollTop();
                for (var i = 0; i < alis.length; i++) {
                    /*获取锚点集合中的元素分别到顶点的距离*/
                    var a_height = $(alis[i]).offset().top;
                    if (a_height < scroll_height) {
                        /*高亮显示*/
                        sidebar_alis.removeClass('on');
                        $(sidebar_alis[i]).addClass('on');
                    }
                }
            }
            $(function() {
                /*绑定滚动事件 */
                $(window).bind('scroll', locateCatelogList);
            });
        </script>
    </div>
    
                            

                </div>




            </div>


            <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | 
  <a class="rss" href="https://yinengmr.github.io//atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>


    </div>
    <script>
        $('#sidebar').stickySidebar({
            topSpacing: 80,
            // bottomSpacing: 60
        });
    </script>
    
        
            <script>
    window.onload = function() {
        var gitalk = new Gitalk({
            clientID: '2d5ac84cba1978997c57',
            clientSecret: 'dae031973aed81d918dbeb49e5a8ab3b99ed2226',
            repo: 'Yinengmr.github.io',
            owner: 'Yinengmr',
            admin: ['Yinengmr'],
            id: (location.pathname).substring(0, 49), // Ensure uniqueness and length less than 50
            distractionFreeMode: false // Facebook-like distraction free mode
        })

        gitalk.render('gitalk-container')
    }
</script>
                

                    
                                
</body>

</html>